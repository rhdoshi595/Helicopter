{"version":3,"sources":["webpack:///webpack/bootstrap e7611a0850f616407c63","webpack:///./lib/entry.js","webpack:///./lib/game.js","webpack:///./lib/mine.js","webpack:///./lib/util.js","webpack:///./lib/pickup.js","webpack:///./lib/moving_object.js","webpack:///./lib/sprite.js","webpack:///./lib/submarine.js","webpack:///./lib/gun.js","webpack:///./lib/background.js","webpack:///./lib/game_view.js"],"names":["Game","require","GameView","document","addEventListener","canvasEl","getElementsByTagName","width","DIM_X","height","DIM_Y","ctx","getContext","gameView","manifest","src","id","loadGame","load","loader","createjs","LoadQueue","loadManifest","Mine","Submarine","Util","Background","Gun","PickUp","mines","guns","pickups","refreshObjects","playing","lost","points","$","text","object","push","submarine","background","add","window","setInterval","game","minesAndGuns","concat","oldies","oldObjects","forEach","obj","remove","oldObj","mineInterval","addMineInterval","pickUpInterval","addPickUpInterval","console","log","clearRect","allObjects","draw","move","i","length","isCrash","checkGunHit","checkPickUp","xPos","position","yPos","checkCollisions","checkOutOfBounds","clearInterval","gravityInterval","accelerateInterval","renderLost","removeAll","$gameModal","removeClass","submarineStartPosition","Math","random","splice","indexOf","undefined","change","moveObjects","checkCrash","displayPoints","module","exports","MovingObject","DEFAULTS","DIM","VELOCITY","PATH","RADIUS","MAX_SPEED","options","randVillain","floor","randXVector","mineStartPosition","radius","xDim","yDim","path","velocity","distanceBetween","obj1","obj2","changeInX","pow","changeInY","sqrt","randomVector","xVector","createImage","imgPath","image","Image","minDistanceBetween","j","applyPickUp","calcNemoNum","objects","SPEED","randomPickUp","pickUpNum","setTimeout","Sprite","imageOffsetY","imageOffsetX","drawImage","TERMINAL_VELOCITY","ACC_RATE","GUN_VELOCITY","nemoNum","acc","rot","gravity","bind","accelerate","foreignObject","minimumDistanceBetween","gun","slice","color","GUN","X_DIM","Y_DIM","POS_X","POS_Y","WIDTH","HEIGHT","posX","posY","speed","on","event","handleKeyEvent","handleKeyRel","handleOpenModal","handleCloseModal","count","counter","timer","start","addClass","off","keyCode","newGame","PI","shoot","addSubmarine","addBackground","prevTime","intervalId","animate","localStorage","getItem","time","step","displayAmmoCount","isNewHighScore","setItem","beginPath","rect","fillStyle","fill","bindKeyHandlers"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e7611a0850f616407c63","const Game = require(\"./game\");\nconst GameView = require(\"./game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n\n  const gameView = new GameView(ctx);\n\n  const manifest = [\n    {src: \"sprites/nemo0.png\", id: \"nemo0\"},\n    {src: \"sprites/nemo1.png\", id: \"nemo1\"},\n    {src: \"sprites/nemo2.png\", id: \"nemo2\"},\n    {src: \"sprites/nemo3.png\", id: \"nemo3\"},\n    {src: \"sprites/nemo4.png\", id: \"nemo4\"},\n    {src: \"images/undersea.jpg\", id: \"background\"}\n  ];\n\n  const loadGame = () => {\n    gameView.load();\n  };\n\n  const loader = new createjs.LoadQueue(false);\n  loader.addEventListener(\"complete\", loadGame);\n  loader.loadManifest(manifest, true, \"./assets/\");\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/entry.js","const Mine = require('./mine');\nconst Submarine = require('./submarine');\nconst Util = require('./util');\nconst Background = require('./background');\nconst Gun = require('./gun');\nconst PickUp = require('./pickup');\n\nclass Game {\n  constructor () {\n    this.mines = [];\n    this.guns = [];\n    this.pickups = [];\n    // this.addMines();\n    this.refreshObjects();\n    this.playing = false;\n    this.lost = false;\n    this.points = 0;\n  }\n\n  displayPoints(){\n    $('.points').text(this.points);\n    $('.highscore').text(`Highscore: 0`);\n    this.points += 5;\n  }\n\n  add(object){\n    if(object instanceof Mine){\n      this.mines.push(object);\n    } else if(object instanceof Submarine){\n      this.submarine = object;\n    } else if(object instanceof Background){\n      this.background = object;\n    } else if (object instanceof Gun){\n      this.guns.push(object);\n    } else if (object instanceof PickUp){\n      this.pickups.push(object);\n    } else {\n      throw \"SQUID!!\";\n    }\n  }\n\n  addBackground(){\n    const background = new Background();\n    this.add(background);\n  }\n\n  addMineInterval() {\n    return window.setInterval(() => {\n      if(this.playing){\n        this.add(new Mine({ game: this }));\n        const minesAndGuns = [].concat(this.mines, this.guns);\n        const oldies = Util.oldObjects(this, minesAndGuns);\n        oldies.forEach((obj) => {\n          this.remove(obj);\n        });\n      }\n    }, 750);\n  }\n\n  addPickUpInterval(){\n    return window.setInterval(() => {\n      if(this.playing){\n        this.add(new PickUp({ game: this }));\n        const oldies = Util.oldObjects(this, this.pickups);\n        oldies.forEach((oldObj) => {\n          game.remove(oldObj);\n        });\n      }\n    }, 10000);\n  }\n\n  refreshObjects(){\n    this.add(new Mine({game: this}));\n    this.mineInterval = this.addMineInterval();\n    this.pickUpInterval = this.addPickUpInterval();\n    console.log(this.mineInterval, this.pickUpInterval);\n  }\n\n  allObjects(){\n    return [].concat([this.background], [this.submarine], this.pickups, this.mines, this.guns);\n  }\n\n  draw(ctx){\n    if(this.playing){\n      ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n      this.allObjects().forEach((object) => {\n        object.draw(ctx);\n      });\n    }\n  }\n\n  moveObjects(){\n    this.allObjects().forEach((object) => {\n      object.move();\n    });\n  }\n\n  checkCollisions() {\n    const mines = this.mines;\n    for(let i = 0; i < mines.length; i += 1){\n      if (Util.isCrash(this.submarine, mines[i])){\n        return true;\n      }\n    }\n    Util.checkGunHit(this);\n    Util.checkPickUp(this);\n    return false;\n  }\n\n  checkOutOfBounds(object){\n    const xPos = object.position[0];\n    const yPos = object.position[1];\n    if(object instanceof Submarine){\n      return (yPos < 0 || yPos > 400);\n    } else if (object instanceof Mine || object instanceof PickUp){\n      return (xPos < 0);\n    } else if (object instanceof Gun) {\n      return (xPos > 900);\n    }\n  }\n\n  checkCrash(){\n    if (this.checkCollisions() || this.checkOutOfBounds(this.submarine)){\n      this.lost = true;\n      console.log(this.mineInterval, this.pickUpInterval);\n      window.clearInterval(this.mineInterval);\n      window.clearInterval(this.pickUpInterval);\n      window.clearInterval(this.submarine.gravityInterval);\n      window.clearInterval(this.submarine.accelerateInterval);\n      this.renderLost();\n    }\n  }\n\n  renderLost() {\n    this.removeAll();\n    const $gameModal = $('.game-modal');\n    $gameModal.removeClass('hidden');\n    $gameModal.text('Better Luck Next Time. Press \"Space\" to play again?');\n    this.playing = false;\n  }\n\n  addSubmarine(){\n    const submarine = new Submarine({\n      position: this.submarineStartPosition(),\n      game: this\n    });\n    this.add(submarine);\n    return submarine;\n  }\n\n  submarineStartPosition(){\n    return [225, (Game.DIM_Y / 2)];\n  }\n\n  mineStartPosition(){\n    return [Game.DIM_X, Game.DIM_Y * Math.random()];\n  }\n\n  remove(object){\n    if(object instanceof Mine){\n      this.mines.splice(this.mines.indexOf(object), 1);\n    } else if(object instanceof Submarine){\n      this.submarine = undefined;\n    } else if (object instanceof Gun){\n      this.guns.splice(this.guns.indexOf(object), 1);\n    } else if (object instanceof PickUp){\n      this.pickups.splice(this.pickups.indexOf(object), 1);\n    } else {\n      throw \"AHHH!\";\n    }\n  }\n\n  removeAll(){\n    this.mines = [];\n    this.guns = [];\n    this.pickups = [];\n    this.submarine = undefined;\n    this.background = undefined;\n  }\n\n  step(change){\n    if(this.playing){\n      this.moveObjects();\n      this.checkCrash();\n      this.displayPoints();\n    }\n  }\n}\n\nGame.DIM_X = 900;\nGame.DIM_Y = 400;\n\nmodule.exports = Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","const Util = require(\"./util\");\nconst MovingObject = require(\"./moving_object\");\nconst Submarine = require(\"./submarine\");\n\nconst DEFAULTS = {\n  DIM: 100,\n  VELOCITY: [0, 0],\n  PATH: 'assets/sprites/villain',\n  RADIUS: 45,\n  MAX_SPEED: 6\n};\n\nclass Mine extends MovingObject {\n  constructor(options = {}){\n    const randVillain = Math.floor(Math.random() * 4);\n    const randXVector = (-(Math.random() + 1) * DEFAULTS.MAX_SPEED);\n    options.position = options.position || options.game.mineStartPosition();\n    options.radius = DEFAULTS.RADIUS;\n    options.xDim = DEFAULTS.DIM;\n    options.yDim = DEFAULTS.DIM;\n    options.path = DEFAULTS.PATH + `${randVillain}.png`;\n    options.velocity = options.velocity || [randXVector, 0];\n    super(options);\n  }\n\n}\n\nmodule.exports = Mine;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/mine.js","const Mine = require('./mine');\nconst PickUp = require('./pickup');\n\nconst Util = {\n  distanceBetween(obj1, obj2){\n    const changeInX = Math.pow(obj1.position[0] - obj2.position[0], 2);\n    const changeInY = Math.pow(obj1.position[1] - obj2.position[1], 2);\n    return Math.sqrt(changeInX + changeInY);\n  },\n  randomVector (length){\n    const xVector = - (Math.random() + 1) * length;\n    return [xVector, 0];\n  },\n  createImage(imgPath){\n    const image = new Image();\n    image.src = imgPath;\n    return image;\n  },\n  isCrash(obj1, obj2){\n    const distanceBetween = this.distanceBetween(obj1,obj2);\n    const minDistanceBetween = obj1.radius + obj2.radius;\n    return (distanceBetween < minDistanceBetween);\n  },\n\n  checkGunHit(game) {\n    for (let i = 0; i < game.guns.length; i++) {\n      for (let j = 0; j < game.mines.length; j++) {\n        if (this.isCrash(game.guns[i], game.mines[j])) {\n          game.remove(game.mines[j]);\n        }\n      }\n    }\n  },\n\n  checkPickUp(game) {\n    for (let i = 0; i < game.pickups.length; i++) {\n      if (this.isCrash(game.submarine, game.pickups[i])) {\n        game.pickups[i].applyPickUp(game);\n        game.remove(game.pickups[i]);\n      }\n    }\n  },\n\n  calcNemoNum(velocity){\n    if (velocity <= 0 && velocity > -2.5){\n      return 3;\n    } else if (velocity <= -2.5){\n      return 4;\n    } else if (velocity > 2.5){\n      return 0;\n    } else {\n      return 1;\n    }\n  },\n\n  oldObjects(game, objects){\n    const oldies = [];\n    for (var i = 0; i < objects.length; i++) {\n      if(game.checkOutOfBounds(objects[i])){\n          oldies.push(objects[i]);\n      }\n    }\n    return oldies;\n  },\n\n  addMineInterval(game) {\n    return window.setInterval(() => {\n      if(game.playing){\n        game.add(new Mine({ game: game }));\n        const minesAndGuns = [].concat(game.mines, game.guns);\n        const oldies = this.oldObjects(game, minesAndGuns);\n        oldies.forEach((obj) => {\n          game.remove(obj);\n        });\n      }\n    }, 750);\n  },\n\n  addPickUpInterval(game){\n    return window.setInterval(() => {\n      if(game.playing){\n        game.add(new PickUp({ game: game }));\n        const oldies = this.oldObjects(game, game.pickups);\n        oldies.forEach((oldObj) => {\n          game.remove(oldObj);\n        });\n      }\n    }, 10000);\n  }\n};\n\nmodule.exports = Util;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","const Util = require('./util');\nconst MovingObject = require('./moving_object');\n\nconst DEFAULTS = {\n  DIM: 50,\n  RADIUS: 20,\n  SPEED: -10,\n  PATH: 'assets/sprites/treasure'\n};\n\nclass PickUp extends MovingObject {\n  constructor(options={}){\n    const randomPickUp = Math.floor(Math.random() * 2);\n    options.position = options.position || options.game.mineStartPosition();\n    options.radius = DEFAULTS.RADIUS;\n    options.xDim = DEFAULTS.DIM;\n    options.yDim = DEFAULTS.DIM;\n    options.path = DEFAULTS.PATH + `.png`;\n    options.velocity = [DEFAULTS.SPEED, 0];\n    super(options);\n    this.pickUpNum = randomPickUp;\n  }\n\n  applyPickUp(game){\n    if(this.pickUpNum === 0){\n      game.submarine.guns += 1;\n    } else {\n      window.setTimeout(() => {\n        game.mines = [];\n      }, 100);\n    }\n  }\n}\n\nmodule.exports = PickUp;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pickup.js","const Util = require('./util');\nconst Sprite = require('./sprite');\nclass MovingObject{\n\n  constructor(options){\n    this.position = options.position;\n    this.velocity = options.velocity;\n    this.radius = options.radius;\n    this.xDim = options.xDim;\n    this.yDim = options.yDim;\n    this.path = options.path;\n    this.game = options.game;\n    this.imageOffsetY = options.imageOffsetY;\n  }\n\n  draw (ctx) {\n    const image = Sprite.createImage(this.path);\n    const imageOffsetX = this.position[0] - (this.xDim / 2);\n    const imageOffsetY = this.imageOffsetY || (this.position[1] - this.yDim / 2);\n    ctx.drawImage(image, imageOffsetX, imageOffsetY, this.xDim, this.yDim);\n  }\n\n  move(){\n    this.position[0] += this.velocity[0];\n    this.position[1] += this.velocity[1];\n\n    // const timePassed = time / (1000/60);\n    // const changeInX = this.velocity[0] * timePassed;\n    // const changeInY = this.velocity[1] * timePassed;\n    // this.position = [this.position[0] + changeInX, this.position[1] + changeInY];\n  }\n\n  // isCollision(foreignObject){\n  //   // const dX = Math.pow(this.position[0] - foreignObject.position[0], 2);\n  //   // const dY = Math.pow(this.position[1] - foreignObject.position[1], 2);\n  //   // const distance = Math.sqrt(dX + dY);\n  //   const distance = Util.distanceBetween(this, foreignObject);\n  //   const minDistance = (this.radius + foreignObject.radius);\n  //   return (distance < minDistance);\n  // }\n\n  remove(){\n    this.game.remove(this);\n  }\n\n}\n\nmodule.exports = MovingObject;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/moving_object.js","const Sprite = {\n  createImage(imgPath) {\n    const image = new Image();\n    image.src = imgPath;\n    return image;\n  }\n};\n\nmodule.exports = Sprite;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sprite.js","const Util = require('./util');\nconst MovingObject = require('./moving_object');\nconst Gun = require('./gun');\n\nconst DEFAULTS = {\n  DIM: 75,\n  RADIUS: 30,\n  VELOCITY: [0,0],\n  TERMINAL_VELOCITY: 6,\n  ACC_RATE: -0.5,\n  GUN_VELOCITY: [10, 0],\n  PATH: 'assets/sprites/nemo'\n};\n\nclass Submarine extends MovingObject{\n  constructor(options = {}){\n    options.xDim = DEFAULTS.DIM;\n    options.yDim = DEFAULTS.DIM;\n    options.radius = DEFAULTS.RADIUS;\n    options.velocity = options.velocity || DEFAULTS.VELOCITY;\n    const nemoNum = Util.calcNemoNum(options.velocity[1]);\n    options.path = DEFAULTS.PATH + `${nemoNum}.png`;\n    super(options);\n    this.acc = false;\n    this.rot = 0;\n    this.guns = 1;\n    this.gravityInterval = window.setInterval(this.gravity.bind(this), 50);\n    this.accelerateInterval = window.setInterval(this.accelerate.bind(this));\n  }\n\n  accelerate(){\n    if(this.acc && this.velocity[1] > -DEFAULTS.TERMINAL_VELOCITY){\n      this.velocity[1] += DEFAULTS.ACC_RATE;\n      const nemoNum = Util.calcNemoNum(this.velocity[1]);\n      this.path = DEFAULTS.PATH + `${nemoNum}.png`;\n    }\n  }\n\n  gravity(){\n    if(this.velocity[1] < DEFAULTS.TERMINAL_VELOCITY){\n      this.velocity[1] += 1.5;\n      const nemoNum = Util.calcNemoNum(this.velocity[1]);\n      this.path = DEFAULTS.PATH + `${nemoNum}.png`;\n    }\n  }\n\n  isCollision(foreignObject){\n    const distanceBetween = Util.distanceBetween(this, foreignObject);\n    const minimumDistanceBetween = this.radius + foreignObject.radius;\n    return (distanceBetween < minimumDistanceBetween);\n  }\n\n  shoot(){\n    if(this.guns > 0){\n      this.guns -= 1;\n      const gun = new Gun({\n        position: this.position.slice(),\n        velocity: DEFAULTS.GUN_VELOCITY,\n        color: 'red',\n        game: this.game\n      });\n      this.game.add(gun);\n      return;\n    } else {\n      console.log('no ammo!');\n      return;\n    }\n  }\n\n}\n\nmodule.exports = Submarine;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/submarine.js","const MovingObject = require('./moving_object');\n\nconst GUN = {\n  RADIUS: 5,\n  X_DIM: 40,\n  Y_DIM: 20,\n  PATH: 'assets/sprites/shell.png'\n};\n\nclass Gun extends MovingObject{\n  constructor(options){\n\n    options.radius = GUN.RADIUS;\n    options.path = GUN.PATH;\n    options.xDim = GUN.X_DIM;\n    options.yDim = GUN.Y_DIM;\n    super(options);\n  }\n}\n\nmodule.exports = Gun;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/gun.js","const Util = require(\"./util\");\n\n const DEFAULTS = {\n   POS_X: 0,\n   POS_Y: 0,\n   WIDTH: 1900,\n   HEIGHT: 400,\n   PATH: 'assets/images/undersea.jpg',\n   SPEED: -1\n };\n\n class Background {\n   constructor() {\n     this.posX = DEFAULTS.POS_X;\n     this.posY = DEFAULTS.POS_Y;\n     this.width = DEFAULTS.WIDTH;\n     this.height = DEFAULTS.HEIGHT;\n     this.speed = DEFAULTS.SPEED;\n     this.path = DEFAULTS.PATH;\n   }\n\n   draw(ctx) {\n     if (this.posX < -1000) {\n       this.posX = 0;\n     }\n     const image = new Image();\n     image.src = this.path;\n     ctx.drawImage(image, this.posX, this.posY, this.width, this.height);\n     this.move();\n   }\n\n   move() {\n     this.posX = this.speed;\n   }\n }\n\n module.exports = Background;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/background.js","const Game = require('./game');\n\nclass GameView {\n  constructor(ctx){\n    this.ctx = ctx;\n  }\n\n  bindKeyHandlers(){\n    $(window).on('keydown', function(event){\n      this.handleKeyEvent(event);\n    }.bind(this));\n\n    $(window).on('keyup', function(event){\n      this.handleKeyRel(event);\n    }.bind(this));\n\n    $('.about').on('click', function(event){\n      this.handleOpenModal(event);\n    }.bind(this));\n\n    $('.start').on('click', function(event){\n      this.handleCloseModal(event);\n      let count = 3;\n      this.counter = setInterval(() => {\n        this.timer(count);\n        count--;\n      }, 1000);\n      window.setTimeout(() => {\n        this.start();\n      }, 4000);\n    }.bind(this));\n  }\n\n  timer(count){\n    const timer = $('.timer');\n    if(count === 0){\n      timer.addClass('hidden');\n      clearInterval(this.counter);\n      return;\n    }\n    timer.removeClass('hidden');\n    timer.text(count);\n  }\n\n  unbindKeyHandlers(){\n    $(window).off('keydown', function(event){\n      this.handleKeyEvent(event);\n    }.bind(this));\n\n    $(window).off('keyup', function(event){\n      this.handleKeyRel(event);\n    }.bind(this));\n  }\n\n  handleCloseModal(event){\n    $('.modal').addClass('hidden');\n  }\n\n  handleOpenModal(event){\n    $('.modal').removeClass('hidden');\n  }\n\n  handleKeyEvent(event){\n    if(event.keyCode === 32 && this.newGame){\n      this.newGame = false;\n      this.handleCloseModal(event);\n      let count = 3;\n      this.counter = setInterval(() => {\n        this.timer(count);\n        count -= 1;\n      }, 1000);\n      window.setTimeout(() => {\n        this.start();\n      }, 4000);\n    } else if(event.keyCode === 32){\n      this.submarine.acc = true;\n      this.submarine.rot = 150 * (Math.PI / 180);\n    } else if(event.keyCode === 13){\n      this.submarine.shoot();\n    }\n  }\n\n  handleKeyRel(event){\n    if(event.keyCode === 32){\n      this.submarine.acc = false;\n      this.submarine.rot = 210 * (Math.PI / 180);\n    }\n  }\n\n  start(){\n    this.ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.game = null;\n    this.game = new Game();\n    this.submarine = this.game.addSubmarine();\n    this.background = this.game.addBackground();\n    this.prevTime = 0;\n    this.game.playing = true;\n    this.intervalId = window.setInterval(() => {\n      this.animate();\n    }, 20);\n  }\n\n  displayAmmoCount() {\n    if (this.game.submarine){\n      $('.guns').text(`Shells: ${this.game.submarine.guns}`);\n    }\n  }\n\n  displayPoints(){\n    $('.points').text(this.game.points);\n    $('.highscore').text(`Highscore: ${localStorage.getItem('highScore')}`);\n    this.game.points += 5;\n  }\n\n  animate(time){\n    if(this.game.playing){\n      this.game.step();\n      this.displayPoints();\n      this.displayAmmoCount();\n      this.game.draw(this.ctx);\n    } else {\n      this.newGame = true;\n      let isNewHighScore = (this.game.points > localStorage.getItem('highScore'));\n      if(!localStorage.getItem('highScore') || isNewHighScore){\n        localStorage.setItem('highScore', this.game.points);\n      }\n      $('.highscore').text(`Highscore: ${localStorage.getItem('highScore')}`);\n      window.clearInterval(this.intervalId);\n    }\n  }\n\n  load(){\n    this.ctx.beginPath();\n    this.ctx.rect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.ctx.fillStyle = 'black';\n    this.ctx.fill();\n    this.bindKeyHandlers();\n  }\n\n}\n\nmodule.exports = GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js"],"sourceRoot":""}