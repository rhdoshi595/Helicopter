{"version":3,"sources":["webpack:///webpack/bootstrap ea6ac6c19299ec8d19f4","webpack:///./lib/entry.js","webpack:///./lib/game.js","webpack:///./lib/mine.js","webpack:///./lib/util.js","webpack:///./lib/pickup.js","webpack:///./lib/moving_object.js","webpack:///./lib/sprite.js","webpack:///./lib/submarine.js","webpack:///./lib/gun.js","webpack:///./lib/background.js","webpack:///./lib/game_view.js"],"names":["Game","require","GameView","document","addEventListener","canvasEl","getElementsByTagName","width","DIM_X","height","DIM_Y","ctx","getContext","manifest","src","id","loader","createjs","LoadQueue","loadManifest","gameView","loadGame","load","Mine","Submarine","Util","Background","Gun","PickUp","backgrounds","mines","guns","pickups","refreshObjects","playing","lost","points","$","text","object","push","submarine","background","add","posX","length","bac","shift","window","setInterval","game","minesAndGuns","concat","oldies","oldObjects","forEach","obj","remove","oldObj","mineInterval","addMineInterval","pickUpInterval","addPickUpInterval","clearRect","allObjects","draw","checkCrash","move","i","isCrash","checkGunHit","checkPickUp","xPos","position","yPos","checkCollisions","checkOutOfBounds","resetVelocity","clearInterval","gravityInterval","accelerateInterval","renderLost","removeAll","$gameModal","removeClass","submarineStartPosition","Math","random","splice","indexOf","undefined","change","wrapBackground","moveObjects","displayPoints","increaseVelocity","module","exports","MovingObject","DEFAULTS","DIM","VELOCITY","RADIUS","MAX_SPEED","MIN_SPEED","options","randVillain","floor","randXVector","mineStartPosition","radius","xDim","yDim","path","velocity","console","log","distanceBetween","obj1","obj2","changeInX","pow","changeInY","sqrt","randomVector","xVector","createImage","imgPath","image","Image","minDistanceBetween","j","applyPickUp","calcNemoNum","objects","SPEED","randomPickUp","pickUpNum","setTimeout","Sprite","imageOffsetY","getResult","imageOffsetX","drawImage","TERMINAL_VELOCITY","ACC_RATE","GUN_VELOCITY","nemoNum","acc","rot","gravity","bind","accelerate","foreignObject","minimumDistanceBetween","gun","slice","GUN","X_DIM","Y_DIM","PATH","POS_X","POS_Y","WIDTH","HEIGHT","posY","speed","on","event","handleKeyEvent","handleKeyRel","handleOpenModal","handleCloseModal","count","counter","timer","start","addClass","off","keyCode","newGame","PI","shoot","addSubmarine","addBackground","prevTime","intervalId","animate","localStorage","getItem","time","step","displayAmmoCount","isNewHighScore","setItem","beginPath","rect","fillStyle","fill","bindKeyHandlers"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ea6ac6c19299ec8d19f4","const Game = require(\"./game\");\nconst GameView = require(\"./game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n\n  const manifest = [\n    {src: \"sprites/nemo0.png\", id: \"nemo0\"},\n    {src: \"sprites/nemo1.png\", id: \"nemo1\"},\n    {src: \"sprites/nemo2.png\", id: \"nemo2\"},\n    {src: \"sprites/nemo3.png\", id: \"nemo3\"},\n    {src: \"sprites/nemo4.png\", id: \"nemo4\"},\n    {src: \"sprites/villain0.png\", id: \"villain0\"},\n    {src: \"sprites/villain1.png\", id: \"villain1\"},\n    {src: \"sprites/villain2.png\", id: \"villain2\"},\n    {src: \"sprites/villain3.png\", id: \"villain3\"},\n    {src: \"sprites/pickup0.png\", id: \"pickup0\"},\n    {src: \"sprites/pickup1.png\", id: \"pickup1\"},\n    {src: \"images/undersea.jpg\", id: \"background\"}\n  ];\n\n  const loader = new createjs.LoadQueue(false);\n  loader.loadManifest(manifest, true, \"./assets/\");\n  const gameView = new GameView(ctx, loader);\n\n  const loadGame = () => {\n    gameView.load();\n  };\n\n\n  loader.addEventListener(\"complete\", loadGame);\n\n\n});\n\n\n\n// WEBPACK FOOTER //\n// ./lib/entry.js","const Mine = require('./mine');\nconst Submarine = require('./submarine');\nconst Util = require('./util');\nconst Background = require('./background');\nconst Gun = require('./gun');\nconst PickUp = require('./pickup');\n\nclass Game {\n  constructor (loader) {\n    this.loader = loader;\n    this.backgrounds = [];\n    this.mines = [];\n    this.guns = [];\n    this.pickups = [];\n    // this.addMines();\n    this.refreshObjects();\n    this.playing = false;\n    this.lost = false;\n    this.points = 0;\n  }\n\n  displayPoints(){\n    $('.points').text(this.points);\n    $('.highscore').text(`Highscore: 0`);\n    this.points += 5;\n  }\n\n  add(object){\n    if(object instanceof Mine){\n      this.mines.push(object);\n    } else if(object instanceof Submarine){\n      this.submarine = object;\n    } else if(object instanceof Background){\n      this.backgrounds.push(object);\n    } else if (object instanceof Gun){\n      this.guns.push(object);\n    } else if (object instanceof PickUp){\n      this.pickups.push(object);\n    } else {\n      throw \"SQUID!!\";\n    }\n  }\n\n  addBackground(){\n    const background = new Background(this.loader);\n    this.add(background);\n  }\n\n  wrapBackground(){\n    if(this.backgrounds[0].posX < -1000 && this.backgrounds.length < 2){\n      const bac = new Background(this.loader);\n      bac.posX = 898;\n      this.add(bac);\n    }\n    if(this.backgrounds[0].posX < -1900){\n      this.backgrounds.shift();\n    }\n  }\n\n  addMineInterval() {\n    return window.setInterval(() => {\n      if(this.playing){\n        this.add(new Mine({ game: this, loader: this.loader }));\n        const minesAndGuns = [].concat(this.mines, this.guns);\n        const oldies = Util.oldObjects(this, minesAndGuns);\n        oldies.forEach((obj) => {\n          this.remove(obj);\n        });\n      }\n    }, 750);\n  }\n\n  addPickUpInterval(){\n    return window.setInterval(() => {\n      if(this.playing){\n        this.add(new PickUp({ game: this, loader: this.loader }));\n        const oldies = Util.oldObjects(this, this.pickups);\n        oldies.forEach((oldObj) => {\n          this.remove(oldObj);\n        });\n      }\n    }, 10000);\n  }\n\n  refreshObjects(){\n    this.add(new Mine({game: this, loader: this.loader}));\n    this.mineInterval = this.addMineInterval();\n    this.pickUpInterval = this.addPickUpInterval();\n  }\n\n //  this.add(new Asteroid({ game: this, loader: this.loader }));\n // +    this.asteroidInterval = Util.createAsteroidInterval(this, this.loader);\n //      this.powerUpInterval = Util.createPowerUpInterval(this);\n //    }\n\n  allObjects(){\n    return [].concat(this.backgrounds, [this.submarine], this.pickups, this.mines, this.guns);\n  }\n\n  draw(ctx){\n    if(this.playing){\n      ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n      this.allObjects().forEach((object) => {\n        if(object) {\n          object.draw(ctx);\n        }\n      });\n      this.checkCrash();\n    }\n  }\n\n  moveObjects(){\n    this.allObjects().forEach((object) => {\n      if(object){\n        object.move();\n      }\n    });\n  }\n\n  checkCollisions() {\n    const mines = this.mines;\n    for(let i = 0; i < mines.length; i += 1){\n      if (Util.isCrash(this.submarine, mines[i])){\n        return true;\n      }\n    }\n    Util.checkGunHit(this);\n    Util.checkPickUp(this);\n    return false;\n  }\n\n  checkOutOfBounds(object){\n    const xPos = object.position[0];\n    const yPos = object.position[1];\n    if(object instanceof Submarine){\n      return (yPos < 0 || yPos > 400);\n    } else if (object instanceof Mine || object instanceof PickUp){\n      return (xPos < 0);\n    } else if (object instanceof Gun) {\n      return (xPos > 900);\n    }\n  }\n\n  checkCrash(){\n    if (this.checkCollisions() || this.checkOutOfBounds(this.submarine)){\n      this.lost = true;\n      Mine.resetVelocity();\n      Submarine.resetVelocity();\n      window.clearInterval(this.mineInterval);\n      window.clearInterval(this.pickUpInterval);\n      window.clearInterval(this.submarine.gravityInterval);\n      window.clearInterval(this.submarine.accelerateInterval);\n      this.renderLost();\n    }\n  }\n\n  renderLost() {\n    this.removeAll();\n    const $gameModal = $('.game-modal');\n    $gameModal.removeClass('hidden');\n    $gameModal.text('Better Luck Next Time. Press \"Space\" to play again?');\n    this.playing = false;\n  }\n\n  addSubmarine(){\n    const submarine = new Submarine({\n      position: this.submarineStartPosition(),\n      game: this,\n      loader: this.loader\n    });\n    this.add(submarine);\n    return submarine;\n  }\n\n  submarineStartPosition(){\n    return [225, (Game.DIM_Y / 2)];\n  }\n\n  mineStartPosition(){\n    return [Game.DIM_X, Game.DIM_Y * Math.random()];\n  }\n\n  remove(object){\n    if(object instanceof Mine){\n      this.mines.splice(this.mines.indexOf(object), 1);\n    } else if(object instanceof Submarine){\n      this.submarine = undefined;\n    } else if (object instanceof Gun){\n      this.guns.splice(this.guns.indexOf(object), 1);\n    } else if (object instanceof PickUp){\n      this.pickups.splice(this.pickups.indexOf(object), 1);\n    } else {\n      throw \"AHHH!\";\n    }\n  }\n\n  removeAll(){\n    this.mines = [];\n    this.guns = [];\n    this.pickups = [];\n    this.submarine = undefined;\n    this.backgrounds = [];\n  }\n\n  step(change){\n    if(this.playing){\n      this.wrapBackground();\n      this.moveObjects();\n      this.displayPoints();\n      Mine.increaseVelocity(this.points);\n      Submarine.increaseVelocity(this.points);\n    }\n  }\n}\n\nGame.DIM_X = 900;\nGame.DIM_Y = 400;\n\nmodule.exports = Game;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game.js","const Util = require(\"./util\");\nconst MovingObject = require(\"./moving_object\");\nconst Submarine = require(\"./submarine\");\n\nconst DEFAULTS = {\n  DIM: 100,\n  VELOCITY: [0, 0],\n  RADIUS: 45,\n  MAX_SPEED: 6,\n  MIN_SPEED: 1\n};\n\nclass Mine extends MovingObject {\n  constructor(options = {}){\n    const randVillain = Math.floor(Math.random() * 4);\n    const randXVector = (-(Math.random() + DEFAULTS.MIN_SPEED) * DEFAULTS.MAX_SPEED);\n    options.position = options.position || options.game.mineStartPosition();\n    options.radius = DEFAULTS.RADIUS;\n    options.xDim = DEFAULTS.DIM;\n    options.yDim = DEFAULTS.DIM;\n    options.path = `villain${randVillain}`;\n    options.velocity = options.velocity || [randXVector, 0];\n    super(options);\n  }\n\n  static resetVelocity(){\n    console.log('reset');\n    DEFAULTS.MIN_SPEED = 1;\n  }\n\n  static increaseVelocity(points){\n    if(DEFAULTS.MIN_SPEED < 3 && points % 1000 === 0){\n      DEFAULTS.MIN_SPEED += 0.5;\n    }\n  }\n\n}\n\nmodule.exports = Mine;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/mine.js","const Mine = require('./mine');\nconst PickUp = require('./pickup');\n\nconst Util = {\n  distanceBetween(obj1, obj2){\n    const changeInX = Math.pow(obj1.position[0] - obj2.position[0], 2);\n    const changeInY = Math.pow(obj1.position[1] - obj2.position[1], 2);\n    return Math.sqrt(changeInX + changeInY);\n  },\n  randomVector (length){\n    const xVector = - (Math.random() + 1) * length;\n    return [xVector, 0];\n  },\n  createImage(imgPath){\n    const image = new Image();\n    image.src = imgPath;\n    return image;\n  },\n  isCrash(obj1, obj2){\n    const distanceBetween = this.distanceBetween(obj1,obj2);\n    const minDistanceBetween = obj1.radius + obj2.radius;\n    return (distanceBetween < minDistanceBetween);\n  },\n\n  checkGunHit(game) {\n    for (let i = 0; i < game.guns.length; i++) {\n      for (let j = 0; j < game.mines.length; j++) {\n        if (this.isCrash(game.guns[i], game.mines[j])) {\n          game.remove(game.mines[j]);\n        }\n      }\n    }\n  },\n\n  checkPickUp(game) {\n    for (let i = 0; i < game.pickups.length; i++) {\n      if (this.isCrash(game.submarine, game.pickups[i])) {\n        game.pickups[i].applyPickUp(game);\n        game.remove(game.pickups[i]);\n      }\n    }\n  },\n\n  calcNemoNum(velocity){\n    if (velocity <= 0 && velocity > -2.5){\n      return 3;\n    } else if (velocity <= -2.5){\n      return 4;\n    } else if (velocity > 2.5){\n      return 0;\n    } else {\n      return 1;\n    }\n  },\n\n  oldObjects(game, objects){\n    const oldies = [];\n    for (var i = 0; i < objects.length; i++) {\n      if(game.checkOutOfBounds(objects[i])){\n          oldies.push(objects[i]);\n      }\n    }\n    return oldies;\n  },\n\n  addMineInterval(game) {\n    return window.setInterval(() => {\n      if(game.playing){\n        game.add(new Mine({ game: game }));\n        const minesAndGuns = [].concat(game.mines, game.guns);\n        const oldies = this.oldObjects(game, minesAndGuns);\n        oldies.forEach((obj) => {\n          game.remove(obj);\n        });\n      }\n    }, 750);\n  },\n\n  addPickUpInterval(game){\n    return window.setInterval(() => {\n      if(game.playing){\n        game.add(new PickUp({ game: game }));\n        const oldies = this.oldObjects(game, game.pickups);\n        oldies.forEach((oldObj) => {\n          game.remove(oldObj);\n        });\n      }\n    }, 10000);\n  }\n};\n\nmodule.exports = Util;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util.js","const Util = require('./util');\nconst MovingObject = require('./moving_object');\n\nconst DEFAULTS = {\n  DIM: 50,\n  RADIUS: 20,\n  SPEED: -10,\n};\n\nclass PickUp extends MovingObject {\n  constructor(options={}){\n    const randomPickUp = Math.floor(Math.random() * 2);\n    options.position = options.position || options.game.mineStartPosition();\n    options.radius = DEFAULTS.RADIUS;\n    options.xDim = DEFAULTS.DIM;\n    options.yDim = DEFAULTS.DIM;\n    options.path = `pickup${randomPickUp}`;\n    options.velocity = [DEFAULTS.SPEED, 0];\n    super(options);\n    this.pickUpNum = randomPickUp;\n  }\n\n  applyPickUp(game){\n    if(this.pickUpNum === 0){\n      game.submarine.guns += 3;\n    } else {\n      window.setTimeout(() => {\n        game.mines = [];\n      }, 100);\n    }\n  }\n}\n\nmodule.exports = PickUp;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/pickup.js","const Util = require('./util');\nconst Sprite = require('./sprite');\nclass MovingObject{\n\n  constructor(options){\n    this.loader = options.loader;\n    this.position = options.position;\n    this.velocity = options.velocity;\n    this.radius = options.radius;\n    this.xDim = options.xDim;\n    this.yDim = options.yDim;\n    this.path = options.path;\n    this.game = options.game;\n    this.imageOffsetY = options.imageOffsetY;\n  }\n\n  draw (ctx) {\n    const image = this.loader.getResult(`${this.path}`);\n    const imageOffsetX = this.position[0] - (this.xDim / 2);\n    const imageOffsetY = this.imageOffsetY || (this.position[1] - this.yDim / 2);\n    ctx.drawImage(image, imageOffsetX, imageOffsetY, this.xDim, this.yDim);\n  }\n\n  move(){\n    this.position[0] += this.velocity[0];\n    this.position[1] += this.velocity[1];\n\n    // const timePassed = time / (1000/60);\n    // const changeInX = this.velocity[0] * timePassed;\n    // const changeInY = this.velocity[1] * timePassed;\n    // this.position = [this.position[0] + changeInX, this.position[1] + changeInY];\n  }\n\n  // isCollision(foreignObject){\n  //   // const dX = Math.pow(this.position[0] - foreignObject.position[0], 2);\n  //   // const dY = Math.pow(this.position[1] - foreignObject.position[1], 2);\n  //   // const distance = Math.sqrt(dX + dY);\n  //   const distance = Util.distanceBetween(this, foreignObject);\n  //   const minDistance = (this.radius + foreignObject.radius);\n  //   return (distance < minDistance);\n  // }\n\n  remove(){\n    this.game.remove(this);\n  }\n\n}\n\nmodule.exports = MovingObject;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/moving_object.js","const Sprite = {\n  createImage(imgPath) {\n    const image = new Image();\n    image.src = imgPath;\n    return image;\n  }\n};\n\nmodule.exports = Sprite;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/sprite.js","const Util = require('./util');\nconst MovingObject = require('./moving_object');\nconst Gun = require('./gun');\n\nconst DEFAULTS = {\n  DIM: 75,\n  RADIUS: 28,\n  VELOCITY: [0,0],\n  TERMINAL_VELOCITY: 6,\n  ACC_RATE: -0.5,\n  GUN_VELOCITY: [10, 0],\n};\n\nclass Submarine extends MovingObject{\n  constructor(options = {}){\n    options.xDim = DEFAULTS.DIM;\n    options.yDim = DEFAULTS.DIM;\n    options.radius = DEFAULTS.RADIUS;\n    options.velocity = options.velocity || DEFAULTS.VELOCITY;\n    const nemoNum = Util.calcNemoNum(options.velocity[1]);\n    options.path = `nemo${nemoNum}`;\n    super(options);\n    this.acc = false;\n    this.rot = 0;\n    this.guns = 1;\n    this.gravityInterval = window.setInterval(this.gravity.bind(this), 50);\n    this.accelerateInterval = window.setInterval(this.accelerate.bind(this));\n  }\n\n  static increaseVelocity(points){\n    if(DEFAULTS.ACC_RATE < -1.5 && points % 1000 === 0){\n      DEFAULTS.MIN_SPEED -= 0.25;\n    }\n  }\n\n  static resetVelocity(){\n    DEFAULTS.ACC_RATE = -0.5;\n  }\n\n  accelerate(){\n    if(this.acc && this.velocity[1] > -DEFAULTS.TERMINAL_VELOCITY){\n      this.velocity[1] += DEFAULTS.ACC_RATE;\n      const nemoNum = Util.calcNemoNum(this.velocity[1]);\n      this.path = `nemo${nemoNum}`;\n    }\n  }\n\n  gravity(){\n    if(this.velocity[1] < DEFAULTS.TERMINAL_VELOCITY){\n      this.velocity[1] += 1.5;\n      const nemoNum = Util.calcNemoNum(this.velocity[1]);\n      this.path = `nemo${nemoNum}`;\n    }\n  }\n\n  isCollision(foreignObject){\n    const distanceBetween = Util.distanceBetween(this, foreignObject);\n    const minimumDistanceBetween = this.radius + foreignObject.radius;\n    return (distanceBetween < minimumDistanceBetween);\n  }\n\n  shoot(){\n    if(this.guns > 0){\n      this.guns -= 1;\n      const gun = new Gun({\n        position: this.position.slice(),\n        velocity: DEFAULTS.GUN_VELOCITY,\n        game: this.game\n      });\n      this.game.add(gun);\n      return;\n    } else {\n      console.log('no ammo!');\n      return;\n    }\n  }\n\n}\n\nmodule.exports = Submarine;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/submarine.js","const MovingObject = require('./moving_object');\nconst Sprite = require('./sprite');\n\nconst GUN = {\n  RADIUS: 5,\n  X_DIM: 40,\n  Y_DIM: 20,\n  PATH: 'assets/sprites/shell.png'\n};\n\nclass Gun extends MovingObject{\n  constructor(options){\n\n    options.radius = GUN.RADIUS;\n    options.path = GUN.PATH;\n    options.xDim = GUN.X_DIM;\n    options.yDim = GUN.Y_DIM;\n    super(options);\n    this.image = Sprite.createImage(options.path);\n  }\n\n  draw(ctx){\n    const imageOffsetX = this.position[0] - (this.xDim / 2);\n    const imageOffsetY = this.imageOffsetY || (this.position[1] - (this.yDim / 2));\n    ctx.drawImage(this.image, imageOffsetX, imageOffsetY, this.xDim, this.yDim);\n  }\n}\n\nmodule.exports = Gun;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/gun.js","const Util = require(\"./util\");\n\n const DEFAULTS = {\n   POS_X: 0,\n   POS_Y: 0,\n   WIDTH: 1900,\n   HEIGHT: 400,\n   //PATH: 'assets/images/undersea.jpg',\n   SPEED: -1.5\n };\n\n class Background {\n   constructor(loader) {\n     this.posX = DEFAULTS.POS_X;\n     this.posY = DEFAULTS.POS_Y;\n     this.width = DEFAULTS.WIDTH;\n     this.height = DEFAULTS.HEIGHT;\n     this.speed = DEFAULTS.SPEED;\n     //this.path = DEFAULTS.PATH;\n     this.loader = loader;\n   }\n\n   draw(ctx) {\n    //  const image = new Image();\n    //  image.src = this.path;\n    const image = this.loader.getResult('background');\n     ctx.drawImage(image, this.posX, this.posY, this.width, this.height);\n     this.move();\n   }\n\n   move() {\n     this.posX += this.speed;\n   }\n }\n\n module.exports = Background;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/background.js","const Game = require('./game');\n\nclass GameView {\n  constructor(ctx, loader){\n    this.ctx = ctx;\n    this.loader = loader;\n  }\n\n  bindKeyHandlers(){\n    $(window).on('keydown', function(event){\n      this.handleKeyEvent(event);\n    }.bind(this));\n\n    $(window).on('keyup', function(event){\n      this.handleKeyRel(event);\n    }.bind(this));\n\n    $('.about').on('click', function(event){\n      this.handleOpenModal(event);\n    }.bind(this));\n\n    $('.start').on('click', function(event){\n      this.handleCloseModal(event);\n      let count = 3;\n      this.counter = setInterval(() => {\n        this.timer(count);\n        count--;\n      }, 1000);\n      window.setTimeout(() => {\n        this.start();\n      }, 4000);\n    }.bind(this));\n  }\n\n  timer(count){\n    const timer = $('.timer');\n    if(count === 0){\n      timer.addClass('hidden');\n      clearInterval(this.counter);\n      return;\n    }\n    timer.removeClass('hidden');\n    timer.text(count);\n  }\n\n  unbindKeyHandlers(){\n    $(window).off('keydown', function(event){\n      this.handleKeyEvent(event);\n    }.bind(this));\n\n    $(window).off('keyup', function(event){\n      this.handleKeyRel(event);\n    }.bind(this));\n  }\n\n  handleCloseModal(event){\n    $('.modal').addClass('hidden');\n  }\n\n  handleOpenModal(event){\n    $('.modal').removeClass('hidden');\n  }\n\n  handleKeyEvent(event){\n    if(event.keyCode === 32 && this.newGame){\n      this.newGame = false;\n      this.handleCloseModal(event);\n      let count = 3;\n      this.counter = setInterval(() => {\n        this.timer(count);\n        count -= 1;\n      }, 1000);\n      window.setTimeout(() => {\n        this.start();\n      }, 4000);\n    } else if(event.keyCode === 32){\n      this.submarine.acc = true;\n      this.submarine.rot = 150 * (Math.PI / 180);\n    } else if(event.keyCode === 13){\n      this.submarine.shoot();\n    }\n  }\n\n  handleKeyRel(event){\n    if(event.keyCode === 32){\n      this.submarine.acc = false;\n      this.submarine.rot = 210 * (Math.PI / 180);\n    }\n  }\n\n  start(){\n    this.ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.game = null;\n    this.game = new Game(this.loader);\n    this.submarine = this.game.addSubmarine();\n    this.game.addBackground();\n    this.prevTime = 0;\n    this.game.playing = true;\n    this.intervalId = window.setInterval(() => {\n      this.animate();\n    }, 20);\n  }\n\n  displayAmmoCount() {\n    if (this.game.submarine){\n      $('.guns').text(`Shells: ${this.game.submarine.guns}`);\n    }\n  }\n\n  displayPoints(){\n    $('.points').text(this.game.points);\n    $('.highscore').text(`Highscore: ${localStorage.getItem('highScore')}`);\n    this.game.points += 5;\n  }\n\n  animate(time){\n    if(this.game.playing){\n      this.game.step();\n      this.displayPoints();\n      this.displayAmmoCount();\n      this.game.draw(this.ctx);\n    } else {\n      this.newGame = true;\n      let isNewHighScore = (this.game.points > localStorage.getItem('highScore'));\n      if(!localStorage.getItem('highScore') || isNewHighScore){\n        localStorage.setItem('highScore', this.game.points);\n      }\n      $('.highscore').text(`Highscore: ${localStorage.getItem('highScore')}`);\n      window.clearInterval(this.intervalId);\n    }\n  }\n\n  load(){\n    this.ctx.beginPath();\n    this.ctx.rect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.ctx.fillStyle = 'black';\n    this.ctx.fill();\n    this.bindKeyHandlers();\n  }\n\n}\n\nmodule.exports = GameView;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/game_view.js"],"sourceRoot":""}